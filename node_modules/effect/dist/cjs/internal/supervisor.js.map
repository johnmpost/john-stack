{"version":3,"file":"supervisor.js","names":["_Function","require","_GlobalValue","MutableRef","_interopRequireWildcard","_Predicate","SortedSet","core","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","SupervisorSymbolKey","SupervisorTypeId","exports","Symbol","for","supervisorVariance","_T","_","ProxySupervisor","underlying","value0","constructor","value","onStart","context","effect","parent","fiber","onEnd","onEffect","onSuspend","onResume","map","f","pipe","zip","right","Zip","left","_tag","isZip","self","hasProperty","isTagged","Track","fibers","Set","sync","Array","from","_context","_effect","_parent","add","_value","delete","_fiber","onRun","execution","Const","FibersIn","ref","remove","unsafeTrack","track","fromEffect","none","globalValue","unit","fibersIn"],"sources":["../../../src/internal/supervisor.ts"],"sourcesContent":[null],"mappings":"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"}