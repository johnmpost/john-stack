{"version":3,"file":"subscriptionRef.js","names":["Effect","_interopRequireWildcard","require","_Function","_Pipeable","PubSub","Ref","Synchronized","_circular","_ref","stream","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","SubscriptionRefSymbolKey","SubscriptionRefTypeId","exports","Symbol","for","subscriptionRefVariance","_A","_","SubscriptionRefImpl","ref","pubsub","semaphore","RefTypeId","refVariance","SynchronizedRefTypeId","synchronizedVariance","constructor","pipe","pipeArguments","arguments","changes","flatMap","map","fromPubSub","scoped","s","concat","make","withPermits","unwrapScoped","modify","f","modifyEffect","succeed","b","as","zipLeft","publish","self","value","all","unbounded","makeSemaphore","dual"],"sources":["../../../src/internal/subscriptionRef.ts"],"sourcesContent":[null],"mappings":"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"}