{"version":3,"file":"patch.js","names":["Chunk","_interopRequireWildcard","require","Differ","Equal","_Function","HashSet","supervisor","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","OP_EMPTY","exports","OP_ADD_SUPERVISOR","OP_REMOVE_SUPERVISOR","OP_AND_THEN","empty","_tag","combine","self","that","first","second","patch","patchLoop","of","_supervisor","_patches","patches","isNonEmpty","head","headNonEmpty","tailNonEmpty","zip","removeSupervisor","prepend","equals","none","isZip","left","right","toSet","pipe","union","make","diff","oldValue","newValue","oldSupervisors","newSupervisors","added","difference","reduce","removed","differ"],"sources":["../../../../src/internal/supervisor/patch.ts"],"sourcesContent":[null],"mappings":"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"}