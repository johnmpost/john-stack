{"version":3,"file":"ref.js","names":["_Function","require","MutableRef","_interopRequireWildcard","Option","_Pipeable","core","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","RefTypeId","exports","Symbol","for","refVariance","_A","_","RefImpl","ref","constructor","modify","f","sync","current","b","pipe","pipeArguments","arguments","unsafeMake","value","make","self","dual","getAndSet","getAndUpdate","getAndUpdateSome","pf","option","_tag","setAndGet","modifySome","fallback","update","updateAndGet","result","updateSome","match","onNone","onSome","updateSomeAndGet","unsafeGet"],"sources":["../../../src/internal/ref.ts"],"sourcesContent":[null],"mappings":"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"}