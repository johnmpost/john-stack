{"version":3,"file":"scopedRef.js","names":["Context","_interopRequireWildcard","require","_Function","_Pipeable","effect","core","circular","fiberRuntime","ref","synchronized","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ScopedRefSymbolKey","ScopedRefTypeId","exports","Symbol","for","scopedRefVariance","_A","_","close","self","flatMap","tuple","exitUnit","fromAcquire","acquire","uninterruptibleMask","restore","pipe","scopeMake","newScope","mapInputContext","add","scopeTag","onError","cause","exitFail","value","makeSynchronized","scopedRef","pipeArguments","arguments","addFinalizer","as","map","make","evaluate","sync","dual","flatten","modifyEffect","oldScope","exit","exitMatch","onFailure","ignore","failCause","onSuccess","unit"],"sources":["../../../src/internal/scopedRef.ts"],"sourcesContent":[null],"mappings":"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"}