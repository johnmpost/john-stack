{"version":3,"file":"handoff.js","names":["Deferred","_interopRequireWildcard","require","Effect","_Function","Option","Ref","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","HandoffTypeId","exports","Symbol","for","OP_HANDOFF_STATE_EMPTY","OP_HANDOFF_STATE_FULL","handoffStateEmpty","notifyConsumer","_tag","handoffStateFull","value","notifyProducer","handoffStateMatch","onEmpty","onFull","self","handoffVariance","_A","_","make","pipe","flatMap","deferred","map","ref","offer","dual","flatten","modify","state","zipRight","succeed","await","take","as","poll","none","some"],"sources":["../../../../src/internal/stream/handoff.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,QAAA,gBAAAC,uBAAA,eAAAC,OAAA;AACA,IAAAC,MAAA,gBAAAF,uBAAA,eAAAC,OAAA;AACA,IAAAE,SAAA,gBAAAF,OAAA;AACA,IAAAG,MAAA,gBAAAJ,uBAAA,eAAAC,OAAA;AACA,IAAAI,GAAA,gBAAAL,uBAAA,eAAAC,OAAA;AAAmC,SAAAK,yBAAAC,CAAA;EAAA,yBAAAC,OAAA;EAAA,IAAAC,CAAA,OAAAD,OAAA;IAAAE,CAAA,OAAAF,OAAA;EAAA,QAAAF,wBAAA,YAAAA,CAAAC,CAAA;IAAA,OAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA;EAAA,GAAAF,CAAA;AAAA;AAAA,SAAAP,wBAAAO,CAAA,EAAAE,CAAA;EAAA,KAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA;EAAA,aAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA;IAAAK,OAAA,EAAAL;EAAA;EAAA,IAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA;EAAA,IAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA;EAAA,IAAAQ,CAAA;MAAAC,SAAA;IAAA;IAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA;EAAA,SAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA;IAAA,IAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA;IAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA;EAAA;EAAA,OAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA;AAEnC;AACO,MAAMY,aAAa,GAAAC,OAAA,CAAAD,aAAA,gBAAGE,MAAM,CAACC,GAAG,CAAC,uBAAuB,CAAC;AAgBhE;AACO,MAAMC,sBAAsB,GAAAH,OAAA,CAAAG,sBAAA,GAAG,OAAgB;AAKtD;AACO,MAAMC,qBAAqB,GAAAJ,OAAA,CAAAI,qBAAA,GAAG,MAAe;AA+BpD;AACA,MAAMC,iBAAiB,GAAOC,cAA8C,KAAwB;EAClGC,IAAI,EAAEJ,sBAAsB;EAC5BG;CACD,CAAC;AAEF;AACA,MAAME,gBAAgB,GAAGA,CAAIC,KAAQ,EAAEC,cAA8C,MAAwB;EAC3GH,IAAI,EAAEH,qBAAqB;EAC3BK,KAAK;EACLC;CACD,CAAC;AAEF;AACA,MAAMC,iBAAiB,GAAGA,CACxBC,OAA8D,EAC9DC,MAAuE,KACrE;EACF,OAAQC,IAAsB,IAAO;IACnC,QAAQA,IAAI,CAACP,IAAI;MACf,KAAKJ,sBAAsB;QAAE;UAC3B,OAAOS,OAAO,CAACE,IAAI,CAACR,cAAc,CAAC;QACrC;MACA,KAAKF,qBAAqB;QAAE;UAC1B,OAAOS,MAAM,CAACC,IAAI,CAACL,KAAK,EAAEK,IAAI,CAACJ,cAAc,CAAC;QAChD;IACF;EACF,CAAC;AACH,CAAC;AAED,MAAMK,eAAe,GAAG;EACtB;EACAC,EAAE,EAAGC,CAAM,IAAKA;CACjB;AAED;AACO,MAAMC,IAAI,GAAGA,CAAA,KAClB,IAAA3C,SAAA,CAAA4C,IAAI,EACFhD,QAAQ,CAAC+C,IAAI,EAAe,EAC5B5C,MAAM,CAAC8C,OAAO,CAAEC,QAAQ,IAAK5C,GAAG,CAACyC,IAAI,CAACb,iBAAiB,CAAIgB,QAAQ,CAAC,CAAC,CAAC,EACtE/C,MAAM,CAACgD,GAAG,CAAEC,GAAG,KAAkB;EAC/B,CAACxB,aAAa,GAAGgB,eAAe;EAChCQ;CACD,CAAC,CAAC,CACJ;AAEH;AAAAvB,OAAA,CAAAkB,IAAA,GAAAA,IAAA;AACO,MAAMM,KAAK,GAAAxB,OAAA,CAAAwB,KAAA,gBAAG,IAAAjD,SAAA,CAAAkD,IAAI,EAGvB,CAAC,EAAE,CAACX,IAAI,EAAEL,KAAK,KAAuC;EACtD,OAAOnC,MAAM,CAAC8C,OAAO,CAACjD,QAAQ,CAAC+C,IAAI,EAAe,EAAGG,QAAQ,IAC3D/C,MAAM,CAACoD,OAAO,CACZjD,GAAG,CAACkD,MAAM,CAACb,IAAI,CAACS,GAAG,EAAGK,KAAK,IACzB,IAAArD,SAAA,CAAA4C,IAAI,EACFS,KAAK,EACLjB,iBAAiB,CACdL,cAAc,IAAK,CAClBhC,MAAM,CAACuD,QAAQ,CACb1D,QAAQ,CAAC2D,OAAO,CAAcxB,cAAc,EAAE,KAAK,CAAC,CAAC,EACrDnC,QAAQ,CAAC4D,KAAK,CAACV,QAAQ,CAAC,CACzB,EACDb,gBAAgB,CAACC,KAAK,EAAEY,QAAQ,CAAC,CAClC,EACD,CAACJ,CAAC,EAAEP,cAAc,KAAK,CACrBpC,MAAM,CAAC8C,OAAO,CACZjD,QAAQ,CAAC4D,KAAK,CAACrB,cAAc,CAAC,EAC9B,MAAM,IAAAnC,SAAA,CAAA4C,IAAI,EAACL,IAAI,EAAEU,KAAK,CAACf,KAAK,CAAC,CAAC,CAC/B,EACDmB,KAAK,CACN,CACF,CACF,CAAC,CACL,CAAC;AACN,CAAC,CAAC;AAEF;AACO,MAAMI,IAAI,GAAOlB,IAAgB,IACtCxC,MAAM,CAAC8C,OAAO,CAACjD,QAAQ,CAAC+C,IAAI,EAAe,EAAGG,QAAQ,IACpD/C,MAAM,CAACoD,OAAO,CACZjD,GAAG,CAACkD,MAAM,CAACb,IAAI,CAACS,GAAG,EAAGK,KAAK,IACzB,IAAArD,SAAA,CAAA4C,IAAI,EACFS,KAAK,EACLjB,iBAAiB,CACdL,cAAc,IACb,CACEhC,MAAM,CAAC8C,OAAO,CACZjD,QAAQ,CAAC4D,KAAK,CAACzB,cAAc,CAAC,EAC9B,MAAM0B,IAAI,CAAClB,IAAI,CAAC,CACjB,EACDc,KAAK,CACG,EACZ,CAACnB,KAAK,EAAEC,cAAc,KAAK,CACzBpC,MAAM,CAAC2D,EAAE,CACP9D,QAAQ,CAAC2D,OAAO,CAAcpB,cAAc,EAAE,KAAK,CAAC,CAAC,EACrDD,KAAK,CACN,EACDJ,iBAAiB,CAAIgB,QAAQ,CAAC,CAC/B,CACF,CACF,CAAC,CACL,CAAC;AAEN;AAAArB,OAAA,CAAAgC,IAAA,GAAAA,IAAA;AACO,MAAME,IAAI,GAAOpB,IAAgB,IACtCxC,MAAM,CAAC8C,OAAO,CAACjD,QAAQ,CAAC+C,IAAI,EAAe,EAAGG,QAAQ,IACpD/C,MAAM,CAACoD,OAAO,CACZjD,GAAG,CAACkD,MAAM,CAACb,IAAI,CAACS,GAAG,EAAGK,KAAK,IACzB,IAAArD,SAAA,CAAA4C,IAAI,EACFS,KAAK,EACLjB,iBAAiB,CACf,MACE,CACErC,MAAM,CAACwD,OAAO,CAACtD,MAAM,CAAC2D,IAAI,EAAK,CAAC,EAChCP,KAAK,CACG,EACZ,CAACnB,KAAK,EAAEC,cAAc,KAAK,CACzBpC,MAAM,CAAC2D,EAAE,CACP9D,QAAQ,CAAC2D,OAAO,CAAcpB,cAAc,EAAE,KAAK,CAAC,CAAC,EACrDlC,MAAM,CAAC4D,IAAI,CAAC3B,KAAK,CAAC,CACnB,EACDJ,iBAAiB,CAAIgB,QAAQ,CAAC,CAC/B,CACF,CACF,CAAC,CACL,CAAC;AAAArB,OAAA,CAAAkC,IAAA,GAAAA,IAAA"}