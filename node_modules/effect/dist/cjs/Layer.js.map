{"version":3,"file":"Layer.js","names":["Context","_interopRequireWildcard","require","_clock","core","defaultServices","fiberRuntime","internal","circularLayer","query","Scheduler","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","LayerTypeId","exports","MemoMapTypeId","isLayer","isFresh","build","buildWithScope","catchAll","catchAllCause","context","die","dieSync","discard","effect","fromEffect","effectDiscard","fromEffectDiscard","effectContext","fromEffectContext","empty","extendScope","fail","failSync","failCause","failCauseSync","flatMap","flatten","fresh","fromFunction","function","launch","map","mapError","match","matchCause","memoize","merge","mergeAll","orDie","orElse","passthrough","project","locallyEffect","locally","fiberRefLocally","locallyWith","fiberRefLocallyWith","locallyScoped","fiberRefLocallyScoped","fiberRefLocallyScopedWith","retry","scope","scoped","scopedDiscard","scopedContext","service","succeed","succeedContext","suspend","sync","syncContext","tap","tapError","tapErrorCause","toRuntime","provide","provideMerge","zipWith","unwrapEffect","unwrapScoped","setClock","clock","currentServices","add","clockTag","setConfigProvider","parentSpan","setRequestBatching","requestBatching","currentRequestBatching","setRequestCaching","requestCaching","currentCacheEnabled","setRequestCache","cache","isEffect","x","currentCache","setScheduler","scheduler","currentScheduler","span","setTracer","setTracerTiming","enabled","currentTracerTimingEnabled","setUnhandledErrorLogLevel","level","currentUnhandledErrorLogLevel","withSpan","withParentSpan","makeMemoMap","buildWithMemoMap"],"sources":["../../src/Layer.ts"],"sourcesContent":[null],"mappings":"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"}