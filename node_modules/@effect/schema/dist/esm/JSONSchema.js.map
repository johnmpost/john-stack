{"version":3,"file":"JSONSchema.js","names":["Option","Predicate","ReadonlyArray","ReadonlyRecord","AST","Parser","to","schema","goRoot","ast","from","anyJsonSchema","$id","unknownJsonSchema","objectJsonSchema","emptyJsonSchema","$schema","$defs","jsonSchema","goWithMetaData","out","isEmptyRecord","goWithIdentifier","identifier","getIdentifierAnnotation","match","onNone","onSome","id","has","$ref","getMetaData","annotated","getSomes","description","getDescriptionAnnotation","title","getTitleAnnotation","examples","getExamplesAnnotation","default","getDefaultAnnotation","go","DEFINITION_PREFIX","_tag","Error","literal","const","isString","isNumber","isBoolean","type","elements","map","e","rest","output","len","length","minItems","filter","element","isOptional","items","isSome","head","value","additionalItems","maxItems","propertySignatures","indexSignatures","additionalProperties","undefined","patternProperties","is","parameter","getTemplateLiteralRegex","source","annotation","getJSONSchemaAnnotation","pattern","ps","required","properties","i","name","push","String","enums","anyOf","types","Object","keys","enum","$comment","oneOf","regex","isNone","f"],"sources":["../../src/JSONSchema.ts"],"sourcesContent":[null],"mappings":"AAAA;;;AAIA,OAAO,KAAKA,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,SAAS,MAAM,kBAAkB;AAC7C,OAAO,KAAKC,aAAa,MAAM,sBAAsB;AACrD,OAAO,KAAKC,cAAc,MAAM,uBAAuB;AACvD,OAAO,KAAKC,GAAG,MAAM,UAAU;AAC/B,OAAO,KAAKC,MAAM,MAAM,aAAa;AAqMrC;;;;AAIA,OAAO,MAAMC,EAAE,GAAUC,MAA2B,IAAsBC,MAAM,CAACJ,GAAG,CAACE,EAAE,CAACC,MAAM,CAACE,GAAG,CAAC,CAAC;AAEpG;;;;AAIA,OAAO,MAAMC,IAAI,GAAUH,MAA2B,IACpDC,MAAM,CAACJ,GAAG,CAACM,IAAI,CAACH,MAAM,CAACE,GAAG,CAAC,CAAC;AAE9B,MAAME,aAAa,GAAgB;EAAEC,GAAG,EAAE;AAAc,CAAE;AAE1D,MAAMC,iBAAiB,GAAgB;EAAED,GAAG,EAAE;AAAkB,CAAE;AAElE,MAAME,gBAAgB,GAAgB;EACpC,KAAK,EAAE,iBAAiB;EACxB,OAAO,EAAE,CACP;IAAE,MAAM,EAAE;EAAQ,CAAE,EACpB;IAAE,MAAM,EAAE;EAAO,CAAE;CAEtB;AAED,MAAMC,eAAe,GAAgB;EACnC,KAAK,EAAE,aAAa;EACpB,OAAO,EAAE,CACP;IAAE,MAAM,EAAE;EAAQ,CAAE,EACpB;IAAE,MAAM,EAAE;EAAO,CAAE;CAEtB;AAED,MAAMC,OAAO,GAAG,yCAAyC;AAEzD;AACA,OAAO,MAAMR,MAAM,GAAIC,GAAY,IAAqB;EACtD,MAAMQ,KAAK,GAAG,EAAE;EAChB,MAAMC,UAAU,GAAGC,cAAc,CAACV,GAAG,EAAEQ,KAAK,CAAC;EAC7C,MAAMG,GAAG,GAAoB;IAC3BJ,OAAO;IACP,GAAGE;GACJ;EACD,IAAI,CAACf,cAAc,CAACkB,aAAa,CAACJ,KAAK,CAAC,EAAE;IACxCG,GAAG,CAACH,KAAK,GAAGA,KAAK;EACnB;EACA,OAAOG,GAAG;AACZ,CAAC;AAED,MAAME,gBAAgB,GAAGA,CAACb,GAAY,EAAEQ,KAAkC,KAAiB;EACzF,MAAMM,UAAU,GAAGnB,GAAG,CAACoB,uBAAuB,CAACf,GAAG,CAAC;EACnD,OAAOT,MAAM,CAACyB,KAAK,CAACF,UAAU,EAAE;IAC9BG,MAAM,EAAEA,CAAA,KAAMP,cAAc,CAACV,GAAG,EAAEQ,KAAK,CAAC;IACxCU,MAAM,EAAGC,EAAE,IAAI;MACb,IAAI,CAACzB,cAAc,CAAC0B,GAAG,CAACZ,KAAK,EAAEW,EAAE,CAAC,EAAE;QAClC,MAAMV,UAAU,GAAGC,cAAc,CAACV,GAAG,EAAEQ,KAAK,CAAC;QAC7C,IAAI,CAACd,cAAc,CAAC0B,GAAG,CAACZ,KAAK,EAAEW,EAAE,CAAC,EAAE;UAClCX,KAAK,CAACW,EAAE,CAAC,GAAGV,UAAU;QACxB;MACF;MACA,OAAO;QAAEY,IAAI,EAAE,WAAWF,EAAE;MAAE,CAAE;IAClC;GACD,CAAC;AACJ,CAAC;AAED,MAAMG,WAAW,GAAIC,SAAwB,IAC3C7B,cAAc,CAAC8B,QAAQ,CAAC;EACtBC,WAAW,EAAE9B,GAAG,CAAC+B,wBAAwB,CAACH,SAAS,CAAC;EACpDI,KAAK,EAAEhC,GAAG,CAACiC,kBAAkB,CAACL,SAAS,CAAC;EACxCM,QAAQ,EAAElC,GAAG,CAACmC,qBAAqB,CAACP,SAAS,CAAC;EAC9CQ,OAAO,EAAEpC,GAAG,CAACqC,oBAAoB,CAACT,SAAS;CAC5C,CAAC;AAEJ,MAAMb,cAAc,GAAGA,CAACV,GAAY,EAAEQ,KAAkC,KAAiB;EACvF,MAAMC,UAAU,GAAGwB,EAAE,CAACjC,GAAG,EAAEQ,KAAK,CAAC;EACjC,OAAO;IACL,GAAGC,UAAU;IACb,GAAGa,WAAW,CAACtB,GAAG;GACnB;AACH,CAAC;AAED;AACA,OAAO,MAAMkC,iBAAiB,GAAG,UAAU;AAE3C,MAAMD,EAAE,GAAGA,CAACjC,GAAY,EAAEQ,KAAkC,KAAiB;EAC3E,QAAQR,GAAG,CAACmC,IAAI;IACd,KAAK,aAAa;MAAE;QAClB,MAAM,IAAIC,KAAK,CAAC,6CAA6C,CAAC;MAChE;IACA,KAAK,SAAS;MAAE;QACd,MAAMC,OAAO,GAAGrC,GAAG,CAACqC,OAAO;QAC3B,IAAIA,OAAO,KAAK,IAAI,EAAE;UACpB,OAAO;YAAEC,KAAK,EAAE;UAAI,CAAE;QACxB,CAAC,MAAM,IAAI9C,SAAS,CAAC+C,QAAQ,CAACF,OAAO,CAAC,EAAE;UACtC,OAAO;YAAEC,KAAK,EAAED;UAAO,CAAE;QAC3B,CAAC,MAAM,IAAI7C,SAAS,CAACgD,QAAQ,CAACH,OAAO,CAAC,EAAE;UACtC,OAAO;YAAEC,KAAK,EAAED;UAAO,CAAE;QAC3B,CAAC,MAAM,IAAI7C,SAAS,CAACiD,SAAS,CAACJ,OAAO,CAAC,EAAE;UACvC,OAAO;YAAEC,KAAK,EAAED;UAAO,CAAE;QAC3B;QACA,MAAM,IAAID,KAAK,CAAC,wCAAwC,CAAC;MAC3D;IACA,KAAK,cAAc;MACjB,MAAM,IAAIA,KAAK,CAAC,+CAA+C,CAAC;IAClE,KAAK,kBAAkB;MACrB,MAAM,IAAIA,KAAK,CAAC,2CAA2C,CAAC;IAC9D,KAAK,aAAa;MAChB,MAAM,IAAIA,KAAK,CAAC,sCAAsC,CAAC;IACzD,KAAK,cAAc;MACjB,MAAM,IAAIA,KAAK,CAAC,uCAAuC,CAAC;IAC1D,KAAK,gBAAgB;MACnB,OAAO;QAAE,GAAGhC;MAAiB,CAAE;IACjC,KAAK,YAAY;MACf,OAAO;QAAE,GAAGF;MAAa,CAAE;IAC7B,KAAK,eAAe;MAClB,OAAO;QAAE,GAAGG;MAAgB,CAAE;IAChC,KAAK,eAAe;MAClB,OAAO;QAAEqC,IAAI,EAAE;MAAQ,CAAE;IAC3B,KAAK,eAAe;MAClB,OAAO;QAAEA,IAAI,EAAE;MAAQ,CAAE;IAC3B,KAAK,gBAAgB;MACnB,OAAO;QAAEA,IAAI,EAAE;MAAS,CAAE;IAC5B,KAAK,eAAe;MAClB,MAAM,IAAIN,KAAK,CAAC,wCAAwC,CAAC;IAC3D,KAAK,eAAe;MAClB,MAAM,IAAIA,KAAK,CAAC,wCAAwC,CAAC;IAC3D,KAAK,OAAO;MAAE;QACZ,MAAMO,QAAQ,GAAG3C,GAAG,CAAC2C,QAAQ,CAACC,GAAG,CAAEC,CAAC,IAAKhC,gBAAgB,CAACgC,CAAC,CAACH,IAAI,EAAElC,KAAK,CAAC,CAAC;QACzE,MAAMsC,IAAI,GAAGvD,MAAM,CAACqD,GAAG,CACrB5C,GAAG,CAAC8C,IAAI,EACRrD,aAAa,CAACmD,GAAG,CAAE5C,GAAG,IAAKa,gBAAgB,CAACb,GAAG,EAAEQ,KAAK,CAAC,CAAC,CACzD;QACD,MAAMuC,MAAM,GAAqB;UAAEL,IAAI,EAAE;QAAO,CAAE;QAClD;QACA;QACA;QACA,MAAMM,GAAG,GAAGL,QAAQ,CAACM,MAAM;QAC3B,IAAID,GAAG,GAAG,CAAC,EAAE;UACXD,MAAM,CAACG,QAAQ,GAAGF,GAAG,GAAGhD,GAAG,CAAC2C,QAAQ,CAACQ,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACC,UAAU,CAAC,CAACJ,MAAM;UACnFF,MAAM,CAACO,KAAK,GAAGX,QAAQ;QACzB;QACA;QACA;QACA;QACA,IAAIpD,MAAM,CAACgE,MAAM,CAACT,IAAI,CAAC,EAAE;UACvB,MAAMU,IAAI,GAAGV,IAAI,CAACW,KAAK,CAAC,CAAC,CAAC;UAC1B,IAAIT,GAAG,GAAG,CAAC,EAAE;YACXD,MAAM,CAACW,eAAe,GAAGF,IAAI;UAC/B,CAAC,MAAM;YACLT,MAAM,CAACO,KAAK,GAAGE,IAAI;UACrB;UAEA;UACA;UACA;UACA,IAAIV,IAAI,CAACW,KAAK,CAACR,MAAM,GAAG,CAAC,EAAE;YACzB,MAAM,IAAIb,KAAK,CACb,wIAAwI,CACzI;UACH;QACF,CAAC,MAAM;UACL,IAAIY,GAAG,GAAG,CAAC,EAAE;YACXD,MAAM,CAACW,eAAe,GAAG,KAAK;UAChC,CAAC,MAAM;YACLX,MAAM,CAACY,QAAQ,GAAG,CAAC;UACrB;QACF;QAEA,OAAOZ,MAAM;MACf;IACA,KAAK,aAAa;MAAE;QAClB,IAAI/C,GAAG,CAAC4D,kBAAkB,CAACX,MAAM,KAAK,CAAC,IAAIjD,GAAG,CAAC6D,eAAe,CAACZ,MAAM,KAAK,CAAC,EAAE;UAC3E,OAAO;YAAE,GAAG3C;UAAe,CAAE;QAC/B;QACA,IAAIwD,oBAAoB,GAA4BC,SAAS;QAC7D,IAAIC,iBAAiB,GAA4CD,SAAS;QAC1E,KAAK,MAAME,EAAE,IAAIjE,GAAG,CAAC6D,eAAe,EAAE;UACpC,MAAMK,SAAS,GAAGD,EAAE,CAACC,SAAS;UAC9B,QAAQA,SAAS,CAAC/B,IAAI;YACpB,KAAK,eAAe;cAAE;gBACpB2B,oBAAoB,GAAGjD,gBAAgB,CAACoD,EAAE,CAACvB,IAAI,EAAElC,KAAK,CAAC;gBACvD;cACF;YACA,KAAK,iBAAiB;cAAE;gBACtBwD,iBAAiB,GAAG;kBAClB,CAACpE,MAAM,CAACuE,uBAAuB,CAACD,SAAS,CAAC,CAACE,MAAM,GAAGvD,gBAAgB,CAClEoD,EAAE,CAACvB,IAAI,EACPlC,KAAK;iBAER;gBACD;cACF;YACA,KAAK,YAAY;cAAE;gBACjB,MAAM6D,UAAU,GAAG1E,GAAG,CAAC2E,uBAAuB,CAACJ,SAAS,CAAC;gBACzD,IACE3E,MAAM,CAACgE,MAAM,CAACc,UAAU,CAAC,IAAI,SAAS,IAAIA,UAAU,CAACZ,KAAK,IAC1DjE,SAAS,CAAC+C,QAAQ,CAAC8B,UAAU,CAACZ,KAAK,CAACc,OAAO,CAAC,EAC5C;kBACAP,iBAAiB,GAAG;oBAClB,CAACK,UAAU,CAACZ,KAAK,CAACc,OAAO,GAAG1D,gBAAgB,CAC1CoD,EAAE,CAACvB,IAAI,EACPlC,KAAK;mBAER;kBACD;gBACF;gBACA,MAAM,IAAI4B,KAAK,CAAC,yCAAyC8B,SAAS,CAAC/B,IAAI,EAAE,CAAC;cAC5E;YACA,KAAK,eAAe;cAClB,MAAM,IAAIC,KAAK,CAAC,yCAAyC8B,SAAS,CAAC/B,IAAI,EAAE,CAAC;UAC9E;QACF;QACA,MAAMyB,kBAAkB,GAAG5D,GAAG,CAAC4D,kBAAkB,CAAChB,GAAG,CAAE4B,EAAE,IAAI;UAC3D,OAAO;YAAE,GAAG3D,gBAAgB,CAAC2D,EAAE,CAAC9B,IAAI,EAAElC,KAAK,CAAC;YAAE,GAAGc,WAAW,CAACkD,EAAE;UAAC,CAAE;QACpE,CAAC,CAAC;QACF,MAAMzB,MAAM,GAAsB;UAChCL,IAAI,EAAE,QAAQ;UACd+B,QAAQ,EAAE,EAAE;UACZC,UAAU,EAAE,EAAE;UACdZ,oBAAoB,EAAE;SACvB;QACD;QACA;QACA;QACA,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGf,kBAAkB,CAACX,MAAM,EAAE0B,CAAC,EAAE,EAAE;UAClD,MAAMC,IAAI,GAAG5E,GAAG,CAAC4D,kBAAkB,CAACe,CAAC,CAAC,CAACC,IAAI;UAC3C,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;YAC5B7B,MAAM,CAAC2B,UAAU,CAACE,IAAI,CAAC,GAAGhB,kBAAkB,CAACe,CAAC,CAAC;YAC/C;YACA;YACA;YACA,IAAI,CAAC3E,GAAG,CAAC4D,kBAAkB,CAACe,CAAC,CAAC,CAACtB,UAAU,EAAE;cACzCN,MAAM,CAAC0B,QAAQ,CAACI,IAAI,CAACD,IAAI,CAAC;YAC5B;UACF,CAAC,MAAM;YACL,MAAM,IAAIxC,KAAK,CAAC,iBAAiB0C,MAAM,CAACF,IAAI,CAAC,qBAAqB,CAAC;UACrE;QACF;QACA;QACA;QACA;QACA,IAAId,oBAAoB,KAAKC,SAAS,EAAE;UACtChB,MAAM,CAACe,oBAAoB,GAAGA,oBAAoB;QACpD;QACA,IAAIE,iBAAiB,KAAKD,SAAS,EAAE;UACnChB,MAAM,CAACiB,iBAAiB,GAAGA,iBAAiB;QAC9C;QAEA,OAAOjB,MAAM;MACf;IACA,KAAK,OAAO;MAAE;QACZ,MAAMgC,KAAK,GAA4B,EAAE;QACzC,MAAMC,KAAK,GAAuB,EAAE;QACpC,KAAK,MAAMtC,IAAI,IAAI1C,GAAG,CAACiF,KAAK,EAAE;UAC5B,MAAMnF,MAAM,GAAGe,gBAAgB,CAAC6B,IAAI,EAAElC,KAAK,CAAC;UAC5C,IAAI,OAAO,IAAIV,MAAM,EAAE;YACrB,IAAIoF,MAAM,CAACC,IAAI,CAACrF,MAAM,CAAC,CAACmD,MAAM,GAAG,CAAC,EAAE;cAClC+B,KAAK,CAACH,IAAI,CAAC/E,MAAM,CAAC;YACpB,CAAC,MAAM;cACLiF,KAAK,CAACF,IAAI,CAAC/E,MAAM,CAACwC,KAAK,CAAC;YAC1B;UACF,CAAC,MAAM;YACL0C,KAAK,CAACH,IAAI,CAAC/E,MAAM,CAAC;UACpB;QACF;QACA,IAAIkF,KAAK,CAAC/B,MAAM,KAAK,CAAC,EAAE;UACtB,IAAI8B,KAAK,CAAC9B,MAAM,KAAK,CAAC,EAAE;YACtB,OAAO;cAAEX,KAAK,EAAEyC,KAAK,CAAC,CAAC;YAAC,CAAE;UAC5B,CAAC,MAAM;YACL,OAAO;cAAEK,IAAI,EAAEL;YAAK,CAAE;UACxB;QACF,CAAC,MAAM;UACL,IAAIA,KAAK,CAAC9B,MAAM,KAAK,CAAC,EAAE;YACtB+B,KAAK,CAACH,IAAI,CAAC;cAAEvC,KAAK,EAAEyC,KAAK,CAAC,CAAC;YAAC,CAAE,CAAC;UACjC,CAAC,MAAM,IAAIA,KAAK,CAAC9B,MAAM,GAAG,CAAC,EAAE;YAC3B+B,KAAK,CAACH,IAAI,CAAC;cAAEO,IAAI,EAAEL;YAAK,CAAE,CAAC;UAC7B;UACA,OAAO;YAAEC;UAAK,CAAE;QAClB;MACF;IACA,KAAK,OAAO;MAAE;QACZ,OAAO;UACLK,QAAQ,EAAE,gBAAgB;UAC1BC,KAAK,EAAEtF,GAAG,CAAC+E,KAAK,CAACnC,GAAG,CAAEC,CAAC,KAAM;YAAElB,KAAK,EAAEkB,CAAC,CAAC,CAAC,CAAC;YAAEP,KAAK,EAAEO,CAAC,CAAC,CAAC;UAAC,CAAE,CAAC;SAC3D;MACH;IACA,KAAK,YAAY;MAAE;QACjB,MAAM5C,IAAI,GAAGY,gBAAgB,CAACb,GAAG,CAACC,IAAI,EAAEO,KAAK,CAAC;QAC9C,MAAM6D,UAAU,GAAG1E,GAAG,CAAC2E,uBAAuB,CAACtE,GAAG,CAAC;QACnD,IAAIT,MAAM,CAACgE,MAAM,CAACc,UAAU,CAAC,EAAE;UAC7B,OAAO;YAAE,GAAGpE,IAAI;YAAE,GAAGoE,UAAU,CAACZ;UAAK,CAAE;QACzC;QACA,MAAM,IAAIrB,KAAK,CACb,6EAA6E,CAC9E;MACH;IACA,KAAK,iBAAiB;MAAE;QACtB,MAAMmD,KAAK,GAAG3F,MAAM,CAACuE,uBAAuB,CAACnE,GAAG,CAAC;QACjD,OAAO;UACL0C,IAAI,EAAE,QAAQ;UACdjB,WAAW,EAAE,oBAAoB;UACjC8C,OAAO,EAAEgB,KAAK,CAACnB;SAChB;MACH;IACA,KAAK,SAAS;MAAE;QACd,MAAMtD,UAAU,GAAGnB,GAAG,CAACoB,uBAAuB,CAACf,GAAG,CAAC;QACnD,IAAIT,MAAM,CAACiG,MAAM,CAAC1E,UAAU,CAAC,EAAE;UAC7B,MAAM,IAAIsB,KAAK,CACb,kFAAkF,CACnF;QACH;QACA,MAAMjB,EAAE,GAAGL,UAAU,CAAC2C,KAAK;QAC3B,IAAI,CAAC/D,cAAc,CAAC0B,GAAG,CAACZ,KAAK,EAAEW,EAAE,CAAC,EAAE;UAClCX,KAAK,CAACW,EAAE,CAAC,GAAGjB,aAAa;UACzB,MAAMO,UAAU,GAAGI,gBAAgB,CAACb,GAAG,CAACyF,CAAC,EAAE,EAAEjF,KAAK,CAAC;UACnDA,KAAK,CAACW,EAAE,CAAC,GAAGV,UAAU;QACxB;QACA,OAAO;UAAEY,IAAI,EAAE,GAAGa,iBAAiB,GAAGf,EAAE;QAAE,CAAE;MAC9C;IACA,KAAK,WAAW;MACd,MAAM,IAAIiB,KAAK,CAAC,gDAAgD,CAAC;EACrE;AACF,CAAC"}